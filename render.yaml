services:
  - type: web
    name: biyometrikfoto-api
    env: python
    plan: free

    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt

    startCommand: >
      gunicorn app:app
      --workers 2
      --worker-class uvicorn.workers.UvicornWorker
      --bind 0.0.0.0:$PORT
      --timeout 120

    envVars:
      - key: DATABASE_URL
        sync: false

      - key: PHOTOROOM_API_KEY
        sync: false

      - key: PAYMENTS_ENABLED
        value: "false"
